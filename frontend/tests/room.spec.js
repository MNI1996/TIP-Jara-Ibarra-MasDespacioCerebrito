import Vuex from 'vuex'
import {createLocalVue, mount, shallowMount} from "@vue/test-utils";
import { assert } from 'chai'
import Room from "../src/pages/Room.vue";

const localVue = createLocalVue()
localVue.use(Vuex)

describe('Room component test', () => {
  describe('with a store', () => {
    let store
    let getters
    beforeEach(() => {
      getters = {
        questions: () => [{"_id":{"$oid":"5fa607fc7e47352e90f0c8ae"},"categories":["Artes"],"difficulty":2,"options":[{"_id":{"$oid":"5fa607fc7e47352e90f0c8ab"},"correct":true,"sentence":"Una pieza para solistas"},{"_id":{"$oid":"5fa607fc7e47352e90f0c8ac"},"correct":false,"sentence":"Una pieza para coros"},{"_id":{"$oid":"5fa607fc7e47352e90f0c8ad"},"correct":false,"sentence":"El primer acto de la opera"}],"text":"Que es un Aria en la opera?"},{"_id":{"$oid":"5fa608047e47352e90f0c8b2"},"categories":["Artes"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608047e47352e90f0c8af"},"correct":true,"sentence":"Saxofon"},{"_id":{"$oid":"5fa608047e47352e90f0c8b0"},"correct":false,"sentence":"Fagot"},{"_id":{"$oid":"5fa608047e47352e90f0c8b1"},"correct":false,"sentence":"Arpa"}],"text":"Cuál de estos instrumentos no pertenece a una orquesta sinfónica?"},{"_id":{"$oid":"5fa6080c7e47352e90f0c8b6"},"categories":["Artes"],"difficulty":3,"options":[{"_id":{"$oid":"5fa6080c7e47352e90f0c8b3"},"correct":true,"sentence":"Boticceli"},{"_id":{"$oid":"5fa6080c7e47352e90f0c8b4"},"correct":false,"sentence":"Rafael"},{"_id":{"$oid":"5fa6080c7e47352e90f0c8b5"},"correct":false,"sentence":"Tiziano"}],"text":"La obra 'El nacimiento de Venus' pertenece a que artista?"},{"_id":{"$oid":"5fa608127e47352e90f0c8ba"},"categories":["Artes"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608127e47352e90f0c8b7"},"correct":true,"sentence":"Noche Estrellada"},{"_id":{"$oid":"5fa608127e47352e90f0c8b8"},"correct":false,"sentence":"Los elefantes"},{"_id":{"$oid":"5fa608127e47352e90f0c8b9"},"correct":false,"sentence":"El estanque de Ninfeas"}],"text":"Que obra pinto Van Gohg? "},{"_id":{"$oid":"5fa6081a7e47352e90f0c8be"},"categories":["Biologia"],"difficulty":3,"options":[{"_id":{"$oid":"5fa6081a7e47352e90f0c8bb"},"correct":false,"sentence":"Delta Elipces"},{"_id":{"$oid":"5fa6081a7e47352e90f0c8bc"},"correct":false,"sentence":"Delta Espirales"},{"_id":{"$oid":"5fa6081a7e47352e90f0c8bd"},"correct":true,"sentence":"Loop"}],"text":"Las 3 estructuras de los aminoacidos son: alfa helices, beta plegadas y ..."},{"_id":{"$oid":"5fa608217e47352e90f0c8c2"},"categories":["Biologia"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608217e47352e90f0c8bf"},"correct":true,"sentence":"Tejido"},{"_id":{"$oid":"5fa608217e47352e90f0c8c0"},"correct":false,"sentence":"Organismo"},{"_id":{"$oid":"5fa608217e47352e90f0c8c1"},"correct":false,"sentence":"Organela"}],"text":"Que constituye el conjunto de celulas del mismo tipo?"},{"_id":{"$oid":"5fa608287e47352e90f0c8c6"},"categories":["Biologia"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608287e47352e90f0c8c3"},"correct":true,"sentence":"Desbalance hormonal"},{"_id":{"$oid":"5fa608287e47352e90f0c8c4"},"correct":false,"sentence":"Ingesta eccesiva de calcio"},{"_id":{"$oid":"5fa608287e47352e90f0c8c5"},"correct":false,"sentence":"Mal dormir"}],"text":"Que produce la hipercalcemia?"},{"_id":{"$oid":"5fa608367e47352e90f0c8ca"},"categories":["Biologia"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608367e47352e90f0c8c7"},"correct":true,"sentence":"Tipo 1"},{"_id":{"$oid":"5fa608367e47352e90f0c8c8"},"correct":false,"sentence":"Tipo 2"},{"_id":{"$oid":"5fa608367e47352e90f0c8c9"},"correct":false,"sentence":"Tipo LADA"}],"text":"Cual tipo de diabetes se la conoce como insulino-dependiente?"},{"_id":{"$oid":"5fa6083e7e47352e90f0c8ce"},"categories":["Matematicas"],"difficulty":2,"options":[{"_id":{"$oid":"5fa6083e7e47352e90f0c8cb"},"correct":false,"sentence":"88"},{"_id":{"$oid":"5fa6083e7e47352e90f0c8cc"},"correct":true,"sentence":"40"},{"_id":{"$oid":"5fa6083e7e47352e90f0c8cd"},"correct":true,"sentence":"96"}],"text":"Si 1+4=5, 2+5=12 y 3+6=21 ¿Cuanto daria 8+11?"},{"_id":{"$oid":"5fa608467e47352e90f0c8d2"},"categories":["Matematicas"],"difficulty":1,"options":[{"_id":{"$oid":"5fa608467e47352e90f0c8cf"},"correct":true,"sentence":"MMXX"},{"_id":{"$oid":"5fa608467e47352e90f0c8d0"},"correct":false,"sentence":"MXMXX"},{"_id":{"$oid":"5fa608467e47352e90f0c8d1"},"correct":false,"sentence":"MXX"}],"text":"Como se escribe 2020 en romano?"},{"_id":{"$oid":"5fa6084c7e47352e90f0c8d6"},"categories":["Matematicas"],"difficulty":1,"options":[{"_id":{"$oid":"5fa6084c7e47352e90f0c8d3"},"correct":true,"sentence":"Bhaskara"},{"_id":{"$oid":"5fa6084c7e47352e90f0c8d4"},"correct":false,"sentence":"Ruffini"},{"_id":{"$oid":"5fa6084c7e47352e90f0c8d5"},"correct":false,"sentence":"Bascara"}],"text":"El metodo que se utiliza para resolver la ecuacion 'ax^2 + bx + c' es llamado..."},{"_id":{"$oid":"5fa608537e47352e90f0c8da"},"categories":["Matematicas"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608537e47352e90f0c8d7"},"correct":true,"sentence":"Trigonometria"},{"_id":{"$oid":"5fa608537e47352e90f0c8d8"},"correct":false,"sentence":"Lengua nativa"},{"_id":{"$oid":"5fa608537e47352e90f0c8d9"},"correct":false,"sentence":"Funciones"}],"text":"En la escuela al enseñar 'SOHCAHTOA' que tema se esta enseñando?"},{"_id":{"$oid":"5fa608987e47352e90f0c8de"},"categories":["Quimica"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608987e47352e90f0c8db"},"correct":true,"sentence":"Anion"},{"_id":{"$oid":"5fa608987e47352e90f0c8dc"},"correct":false,"sentence":"no-Cation"},{"_id":{"$oid":"5fa608987e47352e90f0c8dd"},"correct":false,"sentence":"Negacation"}],"text":"Si el cation es un atomo con carga positiva, como se llama su contrario? "},{"_id":{"$oid":"5fa6089f7e47352e90f0c8e2"},"categories":["Quimica"],"difficulty":2,"options":[{"_id":{"$oid":"5fa6089f7e47352e90f0c8df"},"correct":true,"sentence":"Acido Sulfurico"},{"_id":{"$oid":"5fa6089f7e47352e90f0c8e0"},"correct":false,"sentence":"Acido Sulfidrico"},{"_id":{"$oid":"5fa6089f7e47352e90f0c8e1"},"correct":false,"sentence":"Acido Muriatico"}],"text":"Cual es una de las bases de los medicamentos modernos hoy en dia?"},{"_id":{"$oid":"5fa608a67e47352e90f0c8e6"},"categories":["Quimica"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608a67e47352e90f0c8e3"},"correct":true,"sentence":"Litio"},{"_id":{"$oid":"5fa608a67e47352e90f0c8e4"},"correct":false,"sentence":"Manganeso"},{"_id":{"$oid":"5fa608a67e47352e90f0c8e5"},"correct":false,"sentence":"Xenon"}],"text":"Cual de los siguientes elementos es alcalino"},{"_id":{"$oid":"5fa608ad7e47352e90f0c8ea"},"categories":["Quimica"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608ad7e47352e90f0c8e7"},"correct":true,"sentence":"Uranio"},{"_id":{"$oid":"5fa608ad7e47352e90f0c8e8"},"correct":false,"sentence":"Rubidio"},{"_id":{"$oid":"5fa608ad7e47352e90f0c8e9"},"correct":false,"sentence":"Francio"}],"text":"Cual de los siguientes elementos no es alcalino"},{"_id":{"$oid":"5fa608b47e47352e90f0c8ee"},"categories":["Geografia"],"difficulty":1,"options":[{"_id":{"$oid":"5fa608b47e47352e90f0c8eb"},"correct":false,"sentence":"Nilo"},{"_id":{"$oid":"5fa608b47e47352e90f0c8ec"},"correct":false,"sentence":"Danubio"},{"_id":{"$oid":"5fa608b47e47352e90f0c8ed"},"correct":true,"sentence":"Amazonas"}],"text":"Cual es el Rio mas largo del mundo?"},{"_id":{"$oid":"5fa608bb7e47352e90f0c8f2"},"categories":["Geografia"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608bb7e47352e90f0c8ef"},"correct":true,"sentence":"China"},{"_id":{"$oid":"5fa608bb7e47352e90f0c8f0"},"correct":false,"sentence":"Estados Unidos"},{"_id":{"$oid":"5fa608bb7e47352e90f0c8f1"},"correct":false,"sentence":"India"}],"text":"Que pais tiene la mayor densidad de poblacion"},{"_id":{"$oid":"5fa608c17e47352e90f0c8f6"},"categories":["Geografia"],"difficulty":1,"options":[{"_id":{"$oid":"5fa608c17e47352e90f0c8f3"},"correct":true,"sentence":"Pacifico"},{"_id":{"$oid":"5fa608c17e47352e90f0c8f4"},"correct":false,"sentence":"Atlantico"},{"_id":{"$oid":"5fa608c17e47352e90f0c8f5"},"correct":false,"sentence":"Indico"}],"text":"Cual es el Oceano mas grande del mundo"},{"_id":{"$oid":"5fa608c67e47352e90f0c8fa"},"categories":["Geografia"],"difficulty":3,"options":[{"_id":{"$oid":"5fa608c67e47352e90f0c8f7"},"correct":true,"sentence":"Vaticano"},{"_id":{"$oid":"5fa608c67e47352e90f0c8f8"},"correct":false,"sentence":"Nauru"},{"_id":{"$oid":"5fa608c67e47352e90f0c8f9"},"correct":false,"sentence":"Monaco"}],"text":"Rusia es el pais mas grande del mundo, entonce, cual es el mas chico?"},{"_id":{"$oid":"5fa608d07e47352e90f0c8fe"},"categories":["Fisica"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608d07e47352e90f0c8fb"},"correct":false,"sentence":"Contra Reaccion"},{"_id":{"$oid":"5fa608d07e47352e90f0c8fc"},"correct":true,"sentence":"Accion y Reaccion"},{"_id":{"$oid":"5fa608d07e47352e90f0c8fd"},"correct":false,"sentence":"Efecto igual/inverso"}],"text":"Inercia , Dinamica y  el principio de qué conforman las 3 leyes de Newton?"},{"_id":{"$oid":"5fa608d77e47352e90f0c902"},"categories":["Fisica"],"difficulty":1,"options":[{"_id":{"$oid":"5fa608d77e47352e90f0c8ff"},"correct":true,"sentence":"8.19 minutos"},{"_id":{"$oid":"5fa608d77e47352e90f0c900"},"correct":false,"sentence":"8.31 minutos"},{"_id":{"$oid":"5fa608d77e47352e90f0c901"},"correct":false,"sentence":"8.20 minutos"}],"text":"La velocidad de la luz en el vacío es, aproximadamente,de 300.000 km/s. ¿Cuánto tarda en llegar la luz del Sol al planeta Tierra si éstos distan unos 149,6 millones de kilómetros?"},{"_id":{"$oid":"5fa608df7e47352e90f0c906"},"categories":["Fisica"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608df7e47352e90f0c903"},"correct":true,"sentence":"La linea que describe el movimiento"},{"_id":{"$oid":"5fa608df7e47352e90f0c904"},"correct":false,"sentence":"El sentido del movimiento"},{"_id":{"$oid":"5fa608df7e47352e90f0c905"},"correct":false,"sentence":"La direccion del movimiento"}],"text":"Que es la trayectoria de un movil?"},{"_id":{"$oid":"5fa608e57e47352e90f0c90a"},"categories":["Fisica"],"difficulty":2,"options":[{"_id":{"$oid":"5fa608e57e47352e90f0c907"},"correct":true,"sentence":"Temperatura"},{"_id":{"$oid":"5fa608e57e47352e90f0c908"},"correct":false,"sentence":"Dimension"},{"_id":{"$oid":"5fa608e57e47352e90f0c909"},"correct":false,"sentence":"Presion"}],"text":"El Pascal se usa para medir..."},{"_id":{"$oid":"5fa608ee7e47352e90f0c90e"},"categories":["Historia"],"difficulty":3,"options":[{"_id":{"$oid":"5fa608ee7e47352e90f0c90b"},"correct":false,"sentence":"Arthur Scherbius"},{"_id":{"$oid":"5fa608ee7e47352e90f0c90c"},"correct":false,"sentence":"Conrad Suze"},{"_id":{"$oid":"5fa608ee7e47352e90f0c90d"},"correct":true,"sentence":"Konrad Zuse"}],"text":"Quien invento la computadora?"},{"_id":{"$oid":"5fa608f57e47352e90f0c912"},"categories":["Historia"],"difficulty":3,"options":[{"_id":{"$oid":"5fa608f57e47352e90f0c90f"},"correct":true,"sentence":"1918"},{"_id":{"$oid":"5fa608f57e47352e90f0c910"},"correct":false,"sentence":"1915"},{"_id":{"$oid":"5fa608f57e47352e90f0c911"},"correct":false,"sentence":"1916"}],"text":"En que año se patento ENIGMA?"},{"_id":{"$oid":"5fa608fe7e47352e90f0c916"},"categories":["Historia"],"difficulty":1,"options":[{"_id":{"$oid":"5fa608fe7e47352e90f0c913"},"correct":true,"sentence":"Una manzana"},{"_id":{"$oid":"5fa608fe7e47352e90f0c914"},"correct":false,"sentence":"Una granada"},{"_id":{"$oid":"5fa608fe7e47352e90f0c915"},"correct":false,"sentence":"Una papa"}],"text":"Con que alimento fue asesinado Alan Turing"},{"_id":{"$oid":"5fa609067e47352e90f0c91a"},"categories":["Historia"],"difficulty":3,"options":[{"_id":{"$oid":"5fa609067e47352e90f0c917"},"correct":true,"sentence":"Amantine-Aurore-Lucile Dupin"},{"_id":{"$oid":"5fa609067e47352e90f0c918"},"correct":false,"sentence":"Sourine Darcois"},{"_id":{"$oid":"5fa609067e47352e90f0c919"},"correct":false,"sentence":"Francine le Belle"}],"text":"George Sand es el pseudonimo de la escritora"},{"_id":{"$oid":"5fa6090d7e47352e90f0c91e"},"categories":["Literatura"],"difficulty":2,"options":[{"_id":{"$oid":"5fa6090d7e47352e90f0c91b"},"correct":true,"sentence":"George Sang"},{"_id":{"$oid":"5fa6090d7e47352e90f0c91c"},"correct":false,"sentence":"Agata Christie"},{"_id":{"$oid":"5fa6090d7e47352e90f0c91d"},"correct":false,"sentence":"Edgard Allan Poe"}],"text":"'Un invierno en Mallorca' es la obra de"},{"_id":{"$oid":"5fa609147e47352e90f0c922"},"categories":["Literatura"],"difficulty":1,"options":[{"_id":{"$oid":"5fa609147e47352e90f0c91f"},"correct":true,"sentence":"J.K Rowling"},{"_id":{"$oid":"5fa609147e47352e90f0c920"},"correct":false,"sentence":"K.J Rawling"},{"_id":{"$oid":"5fa609147e47352e90f0c921"},"correct":false,"sentence":"J.K Warning"}],"text":"Quien es la autora de la Saga Harry Potter"},{"_id":{"$oid":"5fa609227e47352e90f0c926"},"categories":["Literatura"],"difficulty":2,"options":[{"_id":{"$oid":"5fa609227e47352e90f0c923"},"correct":true,"sentence":"5"},{"_id":{"$oid":"5fa609227e47352e90f0c924"},"correct":false,"sentence":"7"},{"_id":{"$oid":"5fa609227e47352e90f0c925"},"correct":false,"sentence":"8"}],"text":"De cuantos tomos consta la saga de novelas 'Game of Thrones?'"},{"_id":{"$oid":"5fa609297e47352e90f0c92a"},"categories":["Literatura"],"difficulty":2,"options":[{"_id":{"$oid":"5fa609297e47352e90f0c927"},"correct":true,"sentence":"Mary Westmacott"},{"_id":{"$oid":"5fa609297e47352e90f0c928"},"correct":false,"sentence":"Josephine Scott"},{"_id":{"$oid":"5fa609297e47352e90f0c929"},"correct":false,"sentence":"P.D James"}],"text":"Durante algunos años Agatha Cristhie publico novelas bajo el nombre de..."}],
        points: () => 0,
        currentQuestion: () => 1,
        player:() => JSON.stringify({"_id":"asdasd","points":1}),
        isOwner:() => false,
        currentRoom:() => JSON.stringify({"_id":"sala test","categories":["Literatura","Geografia","Fisica"],"owner":"Ivan11","participants":["Ivan11"],"round_time":10,"rounds":[{"_id":{"$oid":"5fc0a274f2e8402d2082307d"},"answers":[],"question":{"$oid":"5fa608b47e47352e90f0c8ee"}},{"_id":{"$oid":"5fc0a274f2e8402d2082307e"},"answers":[],"question":{"$oid":"5fa608bb7e47352e90f0c8f2"}},{"_id":{"$oid":"5fc0a274f2e8402d2082307f"},"answers":[],"question":{"$oid":"5fa608c17e47352e90f0c8f6"}},{"_id":{"$oid":"5fc0a274f2e8402d20823080"},"answers":[],"question":{"$oid":"5fa608c67e47352e90f0c8fa"}},{"_id":{"$oid":"5fc0a274f2e8402d20823081"},"answers":[],"question":{"$oid":"5fa608d07e47352e90f0c8fe"}}],"rounds_amount":5}),
        categories:() => ["Artes","Fisica","Quimica","Biologia","Historia","Geografia","Literatura","Matematicas"],
        again:() => false,
      }
      store = new Vuex.Store({getters})
    })
    it('when Room is created started and showAnswers are in false', () => {
      const wrapper = shallowMount(Room, {
        store,
        localVue
      })
      assert.strictEqual(wrapper.vm.$data.started, false);
      assert.strictEqual(wrapper.vm.$data.showAnswers, false);
    })
  })
})